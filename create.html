{% extends 'base.html' %}

{% block title %}
Add your car
{% endblock %}

{% block body %}
<div class="container">
    <h1>Add your car</h1>
    <form method="POST" action="/create" enctype="multipart/form-data">
        <div class="row g-3">
            <div class="col-sm-6">
                <label for="firstName" class="form-label">Name:</label>
                <input type="text" class="form-control" id="firstName" name="firstName" required>
                <div class="invalid-feedback">
                    Valid first name is required.
                </div>
            </div>
            <div class="col-sm-6">
                <label for="phone" class="form-label">Phone:</label>
                <input type="text" class="form-control" id="phone" name="phone" required>
                <div class="invalid-feedback">
                    Valid last name is required.
                </div>
            </div>


            <div class="col-12">
                <label for="email" class="form-label">Email<span class="text-body-secondary">(Optional):</span></label>
                <input type="email" class="form-control" id="email" name="email" placeholder="you@example.com">
                <div class="invalid-feedback">
                    Please enter a valid email address for shipping updates.
                </div>
            </div>
            <div class="col-12">
                <label for="description" class="form-label">Description:</label>
                <input type="text" class="form-control" id="description" name="description">
            </div>
    </div>
            <div class="col-sm-6">
                <label for="price" class="form-label">Price:</label>
                <input type="text" class="form-control" id="price" name="price" required>
                <div class="invalid-feedback">
                    Valid last name is required.
                </div>
            </div>

            <label for="photo">Car Photo:</label>
    <input type="file" id="photo" name="photo" accept="image/*" required>
    <br>

            <script>
                function uploadCarPhoto() {
                    var fileInput = document.getElementById('photo');
                    var file = fileInput.files[0];

                    if (file) {
                        var reader = new FileReader();

                        reader.onload = function (e) {
                            var carPhotoData = e.target.result;

                            // Here, you can send the car photo data to the server for further processing
                            // For example, you can use AJAX or fetch to send a request to the server

                            console.log('Car photo uploaded:', carPhotoData);
                        };

                        reader.readAsDataURL(file);
                    }
                }
            </script>

            <hr class="my-4">
            <div class="container">
                <input type="submit" class="btn btn-success" value="Send">
            </div>
        </div>
    </form>
</div>
{% endblock %}